


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <link rel="canonical" href="http://dib-lab.github.io/elvers/configure/">
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Choosing and Configuring Workflows - elvers</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="darkblue" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#understanding-and-configuring-eelpond-workflows" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="http://dib-lab.github.io/elvers" title="elvers" class="md-header-nav__button md-logo" aria-label="elvers">
      
  <img src="../img/eel.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            elvers
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Choosing and Configuring Workflows
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/dib-lab/elvers" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    elvers
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="http://dib-lab.github.io/elvers" title="elvers" class="md-nav__button md-logo" aria-label="elvers">
      
  <img src="../img/eel.svg" alt="logo">

    </a>
    elvers
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/dib-lab/elvers" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    elvers
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="elvers" class="md-nav__link">
      elvers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../quickstart/" title="Quickstart" class="md-nav__link">
      Quickstart
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Choosing and Configuring Workflows
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Choosing and Configuring Workflows" class="md-nav__link md-nav__link--active">
      Choosing and Configuring Workflows
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#specifying-input-data" class="md-nav__link">
    Specifying Input Data
  </a>
  
    <nav class="md-nav" aria-label="Specifying Input Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read-input" class="md-nav__link">
    Read Input
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-input" class="md-nav__link">
    Reference Input
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#choosing-and-running-a-workflow" class="md-nav__link">
    Choosing and running a workflow
  </a>
  
    <nav class="md-nav" aria-label="Choosing and running a workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-workflows" class="md-nav__link">
    Available Workflows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-parameters-for-a-workflow" class="md-nav__link">
    Configuring Parameters for a workflow
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Available Workflows
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Available Workflows" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Available Workflows
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../eel_pond_workflow/" title="Eel Pond Protocol" class="md-nav__link">
      Eel Pond Protocol
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../protein_assembly_workflow/" title="Protein-level Assembly Workflow" class="md-nav__link">
      Protein-level Assembly Workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      Subworkflows
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Subworkflows" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Subworkflows
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../preprocess/" title="preprocess" class="md-nav__link">
      preprocess
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kmer_trim/" title="kmer_trim" class="md-nav__link">
      kmer_trim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../assemble/" title="assemble" class="md-nav__link">
      assemble
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../annotate/" title="annotate" class="md-nav__link">
      annotate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../quantify/" title="quantify" class="md-nav__link">
      quantify
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../diffexp/" title="diffexp" class="md-nav__link">
      diffexp
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sourmash_compute/" title="sourmash_compute" class="md-nav__link">
      sourmash_compute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../plass_assemble/" title="plass_assemble" class="md-nav__link">
      plass_assemble
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../paladin_map/" title="paladin_map" class="md-nav__link">
      paladin_map
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-4" type="checkbox" id="nav-5-4">
    
    <label class="md-nav__link" for="nav-5-4">
      Programs Used
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Programs Used" data-md-level="2">
      <label class="md-nav__title" for="nav-5-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Programs Used
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../get_data/" title="get_data" class="md-nav__link">
      get_data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../fastqc/" title="fastqc" class="md-nav__link">
      fastqc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../trimmomatic/" title="trimmomatic" class="md-nav__link">
      trimmomatic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../khmer/" title="khmer" class="md-nav__link">
      khmer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../trinity/" title="trinity" class="md-nav__link">
      trinity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../get_reference/" title="get_reference" class="md-nav__link">
      get_reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dammit/" title="dammit" class="md-nav__link">
      dammit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sourmash/" title="sourmash" class="md-nav__link">
      sourmash
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../salmon/" title="salmon" class="md-nav__link">
      salmon
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deseq2/" title="deseq2" class="md-nav__link">
      deseq2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../plass/" title="plass" class="md-nav__link">
      plass
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pear/" title="pear" class="md-nav__link">
      pear
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../paladin/" title="paladin" class="md-nav__link">
      paladin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rcorrector/" title="rcorrector" class="md-nav__link">
      rcorrector
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      For Developers
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="For Developers" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        For Developers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../under_the_hood/" title="Under the Hood" class="md-nav__link">
      Under the Hood
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#specifying-input-data" class="md-nav__link">
    Specifying Input Data
  </a>
  
    <nav class="md-nav" aria-label="Specifying Input Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read-input" class="md-nav__link">
    Read Input
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-input" class="md-nav__link">
    Reference Input
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#choosing-and-running-a-workflow" class="md-nav__link">
    Choosing and running a workflow
  </a>
  
    <nav class="md-nav" aria-label="Choosing and running a workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-workflows" class="md-nav__link">
    Available Workflows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-parameters-for-a-workflow" class="md-nav__link">
    Configuring Parameters for a workflow
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="understanding-and-configuring-eelpond-workflows">Understanding and Configuring Eelpond Workflows<a class="headerlink" href="#understanding-and-configuring-eelpond-workflows" title="Permanent link">&para;</a></h1>
<p><code>elvers</code> is designed to facilitate running standard workflows and analyses for sequence data. It integrates snakemake rules for commonly used tools, and provides several end-to-end protocols for analyzing RNAseq data. Workflows are highly customizable, and all command-line options for each tool are available for modification via the configuration file.</p>
<p><strong><code>elvers</code></strong> uses the <code>yaml</code> <em>Yet Another Markup Language</em> format to specify data inputs and modify run parameters. The only required information for this file is the location of the data inputs (reads, assembly, or both). </p>
<h2 id="specifying-input-data">Specifying Input Data<a class="headerlink" href="#specifying-input-data" title="Permanent link">&para;</a></h2>
<p>Let's start with the input data. There are two types of data that can go into elvers: read data (gzipped fastq files), and assembly files (fasta) files. </p>
<h3 id="read-input">Read Input<a class="headerlink" href="#read-input" title="Permanent link">&para;</a></h3>
<p>To specify input data, we need to build a tab-separated samples file, e.g. <code>my-samples.tsv</code>. This file tells <code>elvers</code> a name for each samples, and provides a location for the fastq files (local file path, or downloadable link).</p>
<p>If we had our test data within the <code>data</code> folder in the main <code>elvers</code> directory, the file would look like this:</p>
<div class="codehilite"><pre><span></span><code>sample  unit    fq1 fq2 condition
0Hour   001 data/0Hour_ATCACG_L002_R1_001.extract.fastq.gz data/0Hour_ATCACG_L002_R2_001.extract.fastq.gz time0
0Hour   002 data/0Hour_ATCACG_L002_R1_002.extract.fastq.gz data/0Hour_ATCACG_L002_R2_002.extract.fastq.gz time0
6Hour   001 data/6Hour_CGATGT_L002_R1_001.extract.fastq.gz data/6Hour_CGATGT_L002_R2_001.extract.fastq.gz time6
6Hour   002 data/6Hour_CGATGT_L002_R1_002.extract.fastq.gz data/6Hour_CGATGT_L002_R2_002.extract.fastq.gz time6
</code></pre></div>


<p>If we want to download the test data instead:</p>
<div class="codehilite"><pre><span></span><code>sample  unit    fq1 fq2 condition
0Hour   001 https://osf.io/vw4dt/download   https://osf.io/b47s2/download   time0
0Hour   002 https://osf.io/92jr6/download   https://osf.io/qzea8/download   time0
6Hour   001 https://osf.io/ft3am/download   https://osf.io/jqmsx/download   time6
6Hour   002 https://osf.io/rnkq3/download   https://osf.io/bt9vh/download   time6
</code></pre></div>


<p><strong>Note that proper formatting means all columns must be separated by tabs, not spaces!</strong></p>
<p>Now, you need to provide the name and location of this file to <code>elvers</code>. We do this in the <code>config.yaml</code> file, like so:</p>
<div class="codehilite"><pre><span></span><code>get_data:
  samples: /path/to/my-samples.tsv
</code></pre></div>


<p>The default functionality is to link data from another location on your computer into <code>elvers</code>'s output directory. However, if you want to download data instead, you'll need to provide links in the <code>my-samples.tsv</code> file, and add a few lines to your <code>config.yaml</code>:</p>
<div class="codehilite"><pre><span></span><code>get_data:
  samples: /path/to/my-samples.tsv
  download_data: True 
  use_ftp: False # set to true if you want to use FTP instead of HTTP
</code></pre></div>


<p><strong>About the TSV and Input Reads:</strong></p>
<ul>
<li>The sample names provided here are used to name file outputs throughout the workflow. </li>
<li>The "unit" column is designed to facilitate combining samples that were sequenced over multiple lanes or in different batches. If you do not have "unit" information, please add a short placeholder, such as "a".</li>
<li>for now, the column headers must be: <code>sample</code>, <code>unit</code>, <code>fq1</code>, <code>fq2</code>, <code>condition</code>. Additional headers are not a problem, but will not be used. </li>
<li>If you have single-end samples, please be sure to include the <code>fq2</code> column, but leave the column blank</li>
<li>the <code>condition</code> column is used for differential expression comparisions in DESeq2. The "condition" values can be anything, but they need to correspond with the "contrast" information you pass into DESeq2. If using the <code>diffexp</code> workflow, see our docs <a href="../diffexp/">here</a> and be sure to add the differential expression information into your <code>yaml</code> configuration file.</li>
<li>Formatting the <code>tsv</code> can be a bit annoying. It's slightly easier if you start from a working version by copying the sample data to a new file (see below).</li>
<li>At the moment, <code>elvers</code> assumes <strong>all input data is gzipped</strong>, so please input gzipped data!</li>
</ul>
<p>If you'd like to start from a working version, copy (and then modify) the sample data:</p>
<div class="codehilite"><pre><span></span><code>cp examples/nema.samples.tsv my_samples.tsv
</code></pre></div>


<p>To run any read-based workflow, we need to get reads (and any assemblies already generated) into the right format for <code>elvers</code>. We can either (1) link the data from another location on your machine, or (2) download the data via http or ftp. This is done through a utility rule called <code>get_data</code>.</p>
<h3 id="reference-input">Reference Input<a class="headerlink" href="#reference-input" title="Permanent link">&para;</a></h3>
<p>If you're starting a new <code>elvers</code> run using a reference file (even if you have previously built a <em>de novo</em> assembly via <code>elvers</code>), you need to help <code>elvers</code> find that assembly.</p>
<p><strong>Scenario 1: You're starting from your own reference file:</strong></p>
<p>You need to provide the reference in your <code>config.yaml</code> file:</p>
<div class="codehilite"><pre><span></span><code>get_reference:
  reference: input reference fasta REQUIRED
  gene_trans_map: OPTIONAL: provide a gene to transcript map for input transcriptome
  reference_extension: &#39;_input&#39; OPTIONAL, changes naming
  download_ref: the reference entry above is a link that needs to be downloaded
  use_ftp: download via ftp instead of http
</code></pre></div>


<p>Once you add this to your configfile (e.g. <code>my_config.yaml</code>), you can run a reference/assembly-based workflow such as annotate.</p>
<div class="codehilite"><pre><span></span><code>elvers my_config.yaml annotate
</code></pre></div>


<p>For more details on reference specification, see the <a href="../get_reference/">get_reference documentation</a>. For annotation configuration, see below.</p>
<p><strong>Scenario 2: You've previously run an assembly program via <code>elvers</code>:</strong></p>
<p>You <em>can</em> provide the built reference in the same manner as above. However, if you're running more workflows in the same directory, you can also just specify the name of the assembly program that you used to generate the assembly. This will <em>not</em> rerun the assembly (unless you provide new input files). Instead, this will allow <code>elvers</code> to know where to look for your previously-generated reference     file. Because we enable multiple referene generation programs, we don't want to assume
which reference you'd like to use for downstream steps (in fact, if you provide multiple references, <code>elvers</code> will run the downstream steps on all references, assuming you provide unique               <code>reference_extension</code> parameters so that the references are uniquely named.</p>
<p>Example: You've previously run the trinity assembly, and want to annotate it.</p>
<div class="codehilite"><pre><span></span><code>elvers examples/nema.yaml assemble annotate
</code></pre></div>


<p>Here, the <code>assemble</code> workflow just enables <code>elvers</code> to locate your assembly file for <code>annotate</code>.</p>
<h2 id="choosing-and-running-a-workflow">Choosing and running a workflow<a class="headerlink" href="#choosing-and-running-a-workflow" title="Permanent link">&para;</a></h2>
<p>We offer a number of workflows, including end-to-end workflows that conduct assembly through differential expression analysis. The default workflow is the <a href="../eel_pond_workflow/">Eel Pond RNAseq workflow</a>, which conducts <em>de novo</em> transcriptome assembly, annotation, and quick differential expression analysis on a set of short-read Illumina data using a single command. </p>
<h3 id="available-workflows">Available Workflows<a class="headerlink" href="#available-workflows" title="Permanent link">&para;</a></h3>
<p>Currently, all workflows require a properly-formatted read inputs <code>tsv</code> file as input. Some workflows, e.g. <code>annotation</code>, can work on either on a  <em>de novo</em> transcriptome generated by <code>elvers</code>, or on previously-generated assemblies. To add an assembly as input, specify it via <code>get_reference</code> in the <code>yaml</code> config file, as described above. </p>
<p><strong>workflows</strong></p>
<ul>
<li>preprocess: Read Quality Trimming and Filtering (fastqc, trimmomatic)</li>
<li>kmer_trim: Kmer Trimming and/or Digital Normalization (khmer)</li>
<li>assemble: Transcriptome Assembly (trinity)</li>
<li>get_reference: Specify assembly for downstream steps</li>
<li>annotate : Annotate the transcriptome (dammit)</li>
<li>sourmash_compute: Build sourmash signatures for the reads and assembly (sourmash)</li>
<li>quantify: Quantify transcripts (salmon)</li>
<li>diffexp: Conduct differential expression (DESeq2)</li>
<li>plass_assemble: assemble at the protein level with PLASS</li>
<li>paladin_map: map to a protein assembly using paladin</li>
</ul>
<p><strong>end-to-end workflows:</strong></p>
<ul>
<li><strong>default</strong>: preprocess, kmer_trim, assemble, annotate, quantify</li>
<li><strong>protein assembly</strong>: preprocess, kmer_trim, plass_assemble, paladin_map</li>
</ul>
<p>You can see the available workflows (and which programs they run) by using the <code>--print_workflows</code> flag:</p>
<div class="codehilite"><pre><span></span><code>elvers examples/nema.yaml --print_workflows
</code></pre></div>


<p>Each included tool can also be run independently, if appropriate input files are provided. This is not always intuitive, so please see our documentation for running each tools for details (described as "Advanced Usage"). To see all available tools, run:</p>
<div class="codehilite"><pre><span></span><code>elvers examples/nema.yaml --print_rules
</code></pre></div>


<h3 id="configuring-parameters-for-a-workflow">Configuring Parameters for a workflow<a class="headerlink" href="#configuring-parameters-for-a-workflow" title="Permanent link">&para;</a></h3>
<p>For any workflow, we need to provide a configuration file that specifies the path to your samples file or get_reference (discussed above).</p>
<p>We can generate this file either by:</p>
<ol>
<li>Adding just the desired parameters</li>
<li>Allowing <code>elvers</code> to build a (long) full configfile for us, and modifying as desired.</li>
</ol>
<p><strong>Option 1: Adding just the required parameters</strong></p>
<p>The configuration file primarily provides the location of the input data and/or input assembly. The simplest config file contains just this information.</p>
<div class="codehilite"><pre><span></span><code>get_data:
  samples: samples.tsv
</code></pre></div>


<p>or </p>
<div class="codehilite"><pre><span></span><code>get_reference:
  reference: assembly.fasta
</code></pre></div>


<p>There are a few other options we can add to customize the name of the output directory and files.</p>
<ul>
<li><code>basename: NAME</code>: helps determine file names and output directory (by default: <code>BASENAME_out</code>)</li>
<li><code>experiment: EXPERIMENT</code>: some additional "experiment" info to add to the output directory name ( outdir: <code>BASENAME_EXPERIMENT_out</code>)</li>
<li><code>out_path: /full/path</code>: if you want to redirect the output to some location <em>not</em> under the <code>elvers</code> directory.</li>
<li>Finally, to specify a specific set of workflows or tools to use, add <code>workflows</code> to your <code>yaml</code> file. In this case, we just want to run <code>fastqc</code> and <code>trimmomatic</code>:</li>
</ul>
<div class="codehilite"><pre><span></span><code>workflows: 
  - fastqc
  - trimmomatic
</code></pre></div>


<p>Now, if you'd like to run any particular program with non-default parameters, or you're running differential expression analysis, you'll need to add some info to the config. For any (each) program, follow this format to see program params:</p>
<div class="codehilite"><pre><span></span><code>elvers config.yaml &lt;PROGRAM&gt; --print_params
</code></pre></div>


<p>For example, for deseq2:</p>
<div class="codehilite"><pre><span></span><code>elvers config.yaml deseq2 --print_params
</code></pre></div>


<p>Then copy and paste the parameters that show up in your terminal into your config file. Please see each program's documentation for additional info on what (and how) to modify each program. For example, if running an assembly, we definitely recommend modifying the <code>max_memory</code> parameter of Trinity.</p>
<p><strong>Option 2: Use <code>elvers</code> to add all parameters for our workflow of choice</strong></p>
<p>To get a configfile for the default "eel pond" workflow, that you can modify, run:</p>
<div class="codehilite"><pre><span></span><code>elvers my_workflow.yaml --build_config
</code></pre></div>


<p>The output should be a <code>yaml</code> configfile. At the top, you should see:</p>
<div class="codehilite"><pre><span></span><code>#
# elvers workflow configuration
#
basename: elvers
experiment: _experiment1
</code></pre></div>


<p>First, change the <code>samples.tsv</code> name to your <code>my_samples.tsv</code> file. Then, modify the basename and any experiment info you'd like to add. The default output directory will be: <code>basename_experiment_out</code> within the main <code>elvers</code> directory. If you'd like, you can add one more parameter to the top section: <code>out_path: OUTPUT_PATH</code>, if you'd like the output to go somewhere other than the <code>elvers</code> directory. Note the basename and experiment are still used to determine the output directory name.</p>
<p><strong>Customizing program parameters:</strong></p>
<p>Below this section, you should see some parameters for each program run in this workflow. For example, here's the first few programs: a utility to download or link your data, quality trim with trimmomtic, and assess quality with fastqc. Program parameters do not always show up in order in this file - order in this file does not affect program run order.</p>
<div class="codehilite"><pre><span></span><code>get_data:
  samples: samples.tsv
  download_data: false
  use_ftp: false
trimmomatic:
  adapter_file:
    pe_path: ep_utils/TruSeq3-PE-2.fa
    se_path: ep_utils/TruSeq3-SE.fa
  trim_cmd: ILLUMINACLIP:{}:2:40:15 LEADING:2 TRAILING:2 SLIDINGWINDOW:4:15 MINLEN:25
  extra: &#39;&#39;
fastqc:
  extra: &#39;&#39;
</code></pre></div>


<p>Override default params for any program by modifying the values for any of the paramters under that program name. For example, if you'd like to download data instead of link it from another location on your machine, modify <code>download_data</code> to <code>True</code> under the <code>get_data</code> program. We provide an <code>extra</code> parameter wherever possible to give you access to additional command-line parameters for each program that we have not specifically enabled changes for.</p>
<p>For example, under the <code>trimmomatic</code> section, you can modify the "extra" param to pass any extra trimmomatic parameters, e.g.:</p>
<div class="codehilite"><pre><span></span><code>trimmomatic:
  extra: &#39;HEADCROP:5&#39; # to remove the first 5 bases at the front of the read.
</code></pre></div>


<p>For more on what parameters are available, see the docs for each specific program or utility rule under the "Available Workflows" --&gt; "Programs Used" navigation tab.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../quickstart/" title="Quickstart" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Quickstart
              </div>
            </div>
          </a>
        
        
          <a href="../eel_pond_workflow/" title="Eel Pond Protocol" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Eel Pond Protocol
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 <a href="http://ivory.idyll.org/lab/">Lab for Data Intensive Biology</a> at UC Davis <br/><br/> Icon made by Freepik, obtained from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a>, used under a <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div> license.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ["instant"],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>