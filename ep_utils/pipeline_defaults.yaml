# default settings: do not change these lightly! 

#general settings
basename: eelpond
assembly_extensions:
  - _trinity

eelpond_directories:
  rules: rules
  animals: animals
  logs: logs
  outdirs: #target_rule: dirname
    input_data: input_data
    download_data: input_data
    link_data: input_data
    preprocess: preprocess
    kmer_trim: preprocess
    assemble: assembly
    annotation: annotation
    mapping: mapping 
    quantification: quant
    diffexp: diffexp

# programs to be run at each step of the pipeline
# change these if you're sure you have new program 
# params and targets right.
eelpond_pipeline:
  download_data:
    rules:
      - ftp 
    targets:
      - ftp
  link_data:
    rules:
      - link_data 
    targets:
      - link_data
  preprocess:
    rules:
      - link_data
      - fastqc
      - trimmomatic
    targets:
      - fastqc
      - trimmomatic
  kmer_trim:
    rules:
      - link_data
      - trimmomatic
      - khmer
    targets:
      - khmer
  assemble:
    rules:
      - trimmomatic
      - khmer
      - trinity
    targets:
      - trinity
  annotation:
    rules:
      - assemblyinput
      - dammit
    targets:
      - dammit
  assembly_quality:
    rules:
      - assemblyinput
      - busco
      - sourmash
    targets:
      - busco
      - sourmash
  quantification:
    rules:
      - assemblyinput
      - link_data
      - trimmomatic
      - salmon
    targets:
      - salmon
  diffexp:
    rules:
      - deseq2
    targets:
      - deseq2
  mapping:
    rules:
      - assemblyinput
      - link_data
      - trimmomatic
      - bowtie2
    targets:
      - bowtie2
